# VastVideo-Go

ä¸€ä¸ªç”¨Goè¯­è¨€å¼€å‘çš„è§†é¢‘èšåˆæœç´¢å’Œä»£ç†æœåŠ¡å·¥å…·ï¼Œæ”¯æŒå¤šå¹³å°è¿è¡Œã€‚

> æé€Ÿå¤šæºå½±è§†èšåˆæ’­æ”¾å™¨ Â· å¼€æº Â· å…¨ç«¯é€‚é… Â· æé€Ÿä½“éªŒ

VastVideo-Go æ˜¯ä¸€æ¬¾åŸºäº Go åç«¯å’Œç°ä»£å‰ç«¯æŠ€æœ¯å¼€å‘çš„å¤šæºå½±è§†èšåˆæ’­æ”¾å™¨ï¼Œæ”¯æŒ PC ä¸ç§»åŠ¨ç«¯è‡ªé€‚åº”ï¼Œèšåˆä¸»æµèµ„æºç«™ï¼Œæé€Ÿæœç´¢ã€é«˜æ¸…æ’­æ”¾ï¼Œç•Œé¢ç¾è§‚ï¼Œä½“éªŒæµç•…ã€‚é€‚åˆæŠ€æœ¯çˆ±å¥½è€…ã€å®¶åº­ç”¨æˆ·ã€å½±è§†å‘çƒ§å‹ç­‰å¤šç§åœºæ™¯ã€‚

## ğŸŒŸ åŠŸèƒ½ç‰¹æ€§

- ğŸ¬ **å¤šæºèšåˆæœç´¢** - æ”¯æŒä¸»æµèµ„æºç«™ä¸€é”®èšåˆï¼Œè‡ªåŠ¨åˆ‡æ¢ã€ä¼˜é€‰èµ„æºï¼Œå†…å®¹ä¸°å¯Œ
- âš¡ **æé€Ÿæœç´¢** - å…¨å±€å¼‚æ­¥æœç´¢ï¼Œæ”¯æŒå¤šæºå¹¶å‘ï¼Œç»“æœç§’çº§è¿”å›ï¼Œä½“éªŒæè‡´æµç•…
- ğŸ¥ **é«˜æ¸…æ’­æ”¾** - æ”¯æŒ4K/1080P/720Pç­‰å¤šåˆ†è¾¨ç‡ï¼Œè‡ªåŠ¨è¯†åˆ«ï¼ŒåŸç”»æ’­æ”¾ä¸å¡é¡¿
- ğŸ“± **å…¨ç«¯é€‚é…** - ç§»åŠ¨ç«¯ã€PCç«¯è‡ªé€‚åº”å¸ƒå±€ï¼Œè§¦æ§/é¼ æ ‡æ“ä½œå‡å‹å¥½ï¼Œå“åº”å¼è®¾è®¡
- ğŸŒ **HTTPä»£ç†æœåŠ¡** - æä¾›è·¨åŸŸè¯·æ±‚ä»£ç†ï¼Œæ”¯æŒCORS
- ğŸ¯ **è±†ç“£APIä»£ç†** - è·å–è±†ç“£ç”µå½±/ç”µè§†å‰§ä¿¡æ¯å’Œæ¨è
- ğŸ–¥ï¸ **è·¨å¹³å°æ”¯æŒ** - æ”¯æŒWindowsã€macOSã€Linux
- ğŸ”§ **æ™ºèƒ½æµè§ˆå™¨å¯åŠ¨** - Windows/macOSè‡ªåŠ¨å¯åŠ¨æµè§ˆå™¨ï¼ŒLinuxæ‰‹åŠ¨è®¿é—®
- ğŸ“Š **å¥åº·æ£€æŸ¥** - æä¾›æœåŠ¡çŠ¶æ€ç›‘æ§
- âš™ï¸ **å¼€æºå¯å®šåˆ¶** - å®Œå…¨å¼€æºï¼Œæ”¯æŒäºŒæ¬¡å¼€å‘ã€ç§æœ‰éƒ¨ç½²ï¼Œç¤¾åŒºæ´»è·ƒ

## ğŸ“‹ æ”¯æŒçš„è§†é¢‘æº

| è§†é¢‘æº | åç§° | çŠ¶æ€ |
|--------|------|------|
| bfzy | æš´é£èµ„æº | âœ… é»˜è®¤å¯ç”¨ |
| dyttzy | ç”µå½±å¤©å ‚èµ„æº | âœ… é»˜è®¤å¯ç”¨ |
| ruyi | å¦‚æ„èµ„æº | âšª å¯é€‰ |
| tyyszy | å¤©æ¶¯èµ„æº | âšª å¯é€‰ |
| heimuer | é»‘æœ¨è€³ | âšª å¯é€‰ |
| zy360 | 360èµ„æº | âšª å¯é€‰ |
| wolong | å§é¾™èµ„æº | âšª å¯é€‰ |
| jisu | æé€Ÿèµ„æº | âšª å¯é€‰ |
| dbzy | è±†ç“£èµ„æº | âšª å¯é€‰ |
| mozhua | é­”çˆªèµ„æº | âšª å¯é€‰ |
| mdzy | é­”éƒ½èµ„æº | âšª å¯é€‰ |
| zuid | æœ€å¤§èµ„æº | âšª å¯é€‰ |
| baidu | ç™¾åº¦äº‘èµ„æº | âšª å¯é€‰ |
| wujin | æ— å°½èµ„æº | âšª å¯é€‰ |
| wwzy | æ—ºæ—ºçŸ­å‰§ | âšª å¯é€‰ |
| ikun | iKunèµ„æº | âšª å¯é€‰ |

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç³»ç»Ÿè¦æ±‚

- Go 1.21 æˆ–æ›´é«˜ç‰ˆæœ¬
- æ”¯æŒçš„æ“ä½œç³»ç»Ÿï¼šWindowsã€macOSã€Linux

### å®‰è£…æ–¹æ³•

#### æ–¹æ³•ä¸€ï¼šä»æºç ç¼–è¯‘

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/VastPools/VastVideo-Go.git
cd VastVideo-Go

# å®‰è£…ä¾èµ–
go mod tidy

# ç¼–è¯‘é¡¹ç›®
go build -o vastvideo-go .

# è¿è¡Œç¨‹åº
./vastvideo-go
```

#### æ–¹æ³•äºŒï¼šä½¿ç”¨æ„å»ºè„šæœ¬

```bash
# æ„å»ºæ‰€æœ‰å¹³å°ç‰ˆæœ¬
./build.sh -a

# ä»…æ„å»ºå½“å‰å¹³å°ç‰ˆæœ¬
./build.sh

# æŸ¥çœ‹æ„å»ºé€‰é¡¹
./build.sh -h
```

#### æ–¹æ³•ä¸‰ï¼šä½¿ç”¨Dockerï¼ˆæ¨èï¼‰

```bash
# x86 æ¶æ„
docker run -d --name vastvideo-go -p 8228:8228 vastpools/vastvideo-go:latest

# ARM æ¶æ„ï¼ˆå¦‚æ ‘è“æ´¾ã€éƒ¨åˆ† Macï¼‰
docker run -d --name vastvideo-go -p 8228:8228 vastpools/vastvideo-go:latest
```

### è¿è¡Œç¨‹åº

```bash
# é»˜è®¤å¯åŠ¨ï¼ˆè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ï¼‰
./vastvideo-go

# ä¸è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
./vastvideo-go -no-open

# æŒ‡å®šç«¯å£
./vastvideo-go -port 8228

# åå°è¿è¡Œ
nohup ./vastvideo-go > vastvideo-go.log 2>&1 &

# Windows ç›´æ¥è¿è¡Œ
# åŒå‡» vastvideo-go.exe æˆ–è¿è¡Œ start.bat

# macOS ç›´æ¥è¿è¡Œ
# åŒå‡» vastvideo-go æˆ–åœ¨ç»ˆç«¯è¿è¡Œ ./vastvideo-go

## ğŸ“– ä½¿ç”¨è¯´æ˜

### å¯åŠ¨åè®¿é—®åœ°å€

ç¨‹åºå¯åŠ¨åï¼Œæ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹åœ°å€è®¿é—®ï¼š

- **ä¸»é¡µé¢**: `http://localhost:8228/` æˆ– `http://your-ip:8228/`
- **å…³äºé¡µé¢**: `http://localhost:8228/about`
- **å¥åº·æ£€æŸ¥**: `http://localhost:8228/health`

### APIæ¥å£

#### è§†é¢‘æºAPI

```bash
# è·å–æ‰€æœ‰è§†é¢‘æº
GET /api/sources

# æœç´¢è§†é¢‘
GET /api/source_search?source=bfzy&keyword=å¤ä»‡è€…è”ç›Ÿ&page=1

# è·å–æœ€æ–°æ¨è
GET /api/source_search?source=bfzy&latest=true&page=1
```

#### è±†ç“£API

```bash
# è·å–ç”µå½±æ ‡ç­¾
GET /douban?action=tags&type=movie

# è·å–ç”µè§†å‰§æ ‡ç­¾
GET /douban?action=tags&type=tv

# è·å–æ¨èå†…å®¹
GET /douban?action=subjects&type=movie&tag=çƒ­é—¨&page_limit=16&page_start=0
```

#### ä»£ç†æœåŠ¡

```bash
# HTTPä»£ç†
GET /proxy?url=https://example.com/api/data
```

### æµè§ˆå™¨è‡ªåŠ¨å¯åŠ¨

- **Windows/macOS**: ç¨‹åºå¯åŠ¨åä¼šè‡ªåŠ¨æ‰“å¼€é»˜è®¤æµè§ˆå™¨
- **Linux**: éœ€è¦æ‰‹åŠ¨è®¿é—®æä¾›çš„URL
- **ç¦ç”¨è‡ªåŠ¨å¯åŠ¨**: ä½¿ç”¨ `-no-open` å‚æ•°

## âš™ï¸ é…ç½®è¯´æ˜

### é…ç½®æ–‡ä»¶ä½ç½®

ç¨‹åºä½¿ç”¨ `config/config.ini` ä½œä¸ºé…ç½®æ–‡ä»¶ã€‚

### ä¸»è¦é…ç½®é¡¹

```ini
[server]
port = 8228                    # æœåŠ¡ç«¯å£
host = 0.0.0.0                # ç›‘å¬åœ°å€

[browser]
auto_open = true              # æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨

[features]
health_check = true           # å¯ç”¨å¥åº·æ£€æŸ¥
info_page = true             # å¯ç”¨ä¿¡æ¯é¡µé¢
proxy_service = true         # å¯ç”¨ä»£ç†æœåŠ¡
douban_api = true            # å¯ç”¨è±†ç“£API

[logging]
console_output = true        # æ§åˆ¶å°è¾“å‡º
file_output = false          # æ–‡ä»¶è¾“å‡º
log_file = vastvideo-go.log  # æ—¥å¿—æ–‡ä»¶è·¯å¾„
```

### è§†é¢‘æºé…ç½®

åœ¨ `[sources]` éƒ¨åˆ†é…ç½®è§†é¢‘æºï¼š

```ini
[sources]
# æ ¼å¼: code.name = åç§°, code.url = URL, code.is_default = æ˜¯å¦é»˜è®¤(1/0)
bfzy.name = æš´é£èµ„æº
bfzy.url = https://bfzyapi.com/api.php/provide/vod
bfzy.is_default = 1
```

## ğŸ”§ å¼€å‘è¯´æ˜

### é¡¹ç›®ç»“æ„

```
VastVideo-Go/
â”œâ”€â”€ main.go              # ç¨‹åºå…¥å£
â”œâ”€â”€ components/          # æ ¸å¿ƒç»„ä»¶
â”‚   â”œâ”€â”€ browser.go      # æµè§ˆå™¨æ§åˆ¶
â”‚   â”œâ”€â”€ douban.go       # è±†ç“£API
â”‚   â”œâ”€â”€ proxy.go        # ä»£ç†æœåŠ¡
â”‚   â””â”€â”€ sources.go      # è§†é¢‘æºç®¡ç†
â”œâ”€â”€ utils/              # å·¥å…·æ¨¡å—
â”‚   â”œâ”€â”€ config.go       # é…ç½®ç®¡ç†
â”‚   â””â”€â”€ ip.go          # IPå·¥å…·
â”œâ”€â”€ config/             # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ config.ini     # ä¸»é…ç½®æ–‡ä»¶
â”œâ”€â”€ html/              # å‰ç«¯æ–‡ä»¶
â”‚   â”œâ”€â”€ index_mobile.html
â”‚   â””â”€â”€ about.html
â”œâ”€â”€ build.sh           # æ„å»ºè„šæœ¬
â””â”€â”€ README.md          # è¯´æ˜æ–‡æ¡£
```

### æ„å»ºå¤šå¹³å°ç‰ˆæœ¬

```bash
# æ„å»ºæ‰€æœ‰å¹³å°
./build.sh -a

# æ„å»ºç‰¹å®šå¹³å°
./build.sh -l    # Linux
./build.sh -w    # Windows
./build.sh -m    # macOS
```

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **ç«¯å£è¢«å ç”¨**
   ```bash
   # ç¨‹åºä¼šè‡ªåŠ¨å°è¯•é‡Šæ”¾ç«¯å£ï¼Œå¦‚æœå¤±è´¥è¯·æ‰‹åŠ¨æ£€æŸ¥
   lsof -i :8228  # Linux/macOS
   netstat -ano | findstr :8228  # Windows
   ```

2. **æµè§ˆå™¨æ— æ³•å¯åŠ¨**
   - æ£€æŸ¥ç³»ç»Ÿé»˜è®¤æµè§ˆå™¨è®¾ç½®
   - ä½¿ç”¨ `-no-open` å‚æ•°æ‰‹åŠ¨è®¿é—®

3. **è§†é¢‘æºæ— æ³•è®¿é—®**
   - æ£€æŸ¥ç½‘ç»œè¿æ¥
   - ç¡®è®¤è§†é¢‘æºAPIæ˜¯å¦å¯ç”¨
   - æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶è·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯

### æ—¥å¿—æ–‡ä»¶

ç¨‹åºè¿è¡Œæ—¥å¿—ä¿å­˜åœ¨ `vastvideo-go.log` æ–‡ä»¶ä¸­ï¼ŒåŒ…å«è¯¦ç»†çš„è¿è¡Œä¿¡æ¯å’Œé”™è¯¯æ—¥å¿—ã€‚

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ï¼Œè¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Request æ¥æ”¹è¿›é¡¹ç›®ã€‚

## ğŸŒŸ å¼€æºä¸ç¤¾åŒº

VastVideo-Go éµå¾ª MIT åè®®ï¼Œå®Œå…¨å¼€æºï¼Œæ¬¢è¿ Starã€Forkã€æ Issue ä¸ PRã€‚ç¤¾åŒºäº¤æµç¾¤ã€æ–‡æ¡£ä¸æ•™ç¨‹è¯·è§é¡¹ç›®ä¸»é¡µã€‚

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- æäº¤ Issue: [GitHub Issues](https://github.com/VastPools/VastVideo-Go/issues)
- é‚®ç®±: vastpools@hotmail.com
- GitHub: [https://github.com/VastPools/VastVideo-Go](https://github.com/VastPools/VastVideo-Go)

å¦‚æœ‰åˆä½œã€å®šåˆ¶ã€æŠ€æœ¯æ”¯æŒç­‰éœ€æ±‚ï¼Œæ¬¢è¿é‚®ä»¶è”ç³»ã€‚

---

**æ³¨æ„**: æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ï¼Œè¯·éµå®ˆç›¸å…³æ³•å¾‹æ³•è§„å’Œç½‘ç«™ä½¿ç”¨æ¡æ¬¾ã€‚

---

**VastVideo-Go** - æé€Ÿå¤šæºå½±è§†èšåˆæ’­æ”¾å™¨ Â· å¼€æº Â· å…¨ç«¯é€‚é… Â· æé€Ÿä½“éªŒ 